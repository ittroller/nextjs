{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/caokhaminh/Documents/MY_SOURCE/REACTJS/next-demo/context/LocaleContext.js\";\nimport React from \"react\";\nimport { useRouter } from \"next/router\";\nimport { isLocale } from \"../config/i18n/types\";\nexport const LocaleContext = React.createContext > {\n  locale: \"en\",\n  setLocale: () => null\n};\nexport const LocaleProvider = ({\n  lang,\n  children\n}) => {\n  const [locale, setLocale] = React.useState(lang);\n  const {\n    query\n  } = useRouter();\n  React.useEffect(() => {\n    if (locale !== localStorage.getItem(\"locale\")) {\n      localStorage.setItem(\"locale\", locale);\n    }\n  }, [locale]);\n  React.useEffect(() => {\n    if (typeof query.lang === \"string\" && isLocale(query.lang) && locale !== query.lang) {\n      setLocale(query.lang);\n    }\n  }, [query.lang, locale]);\n  return /*#__PURE__*/_jsxDEV(LocaleContext.Provider, {\n    value: {\n      locale,\n      setLocale\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};","map":{"version":3,"sources":["/Users/caokhaminh/Documents/MY_SOURCE/REACTJS/next-demo/context/LocaleContext.js"],"names":["React","useRouter","isLocale","LocaleContext","createContext","locale","setLocale","LocaleProvider","lang","children","useState","query","useEffect","localStorage","getItem","setItem"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,QAAT,QAAyB,sBAAzB;AAEA,OAAO,MAAMC,aAAa,GACxBH,KAAK,CAACI,aAAN,GACA;AACEC,EAAAA,MAAM,EAAE,IADV;AAEEC,EAAAA,SAAS,EAAE,MAAM;AAFnB,CAFK;AAOP,OAAO,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAD,KAAwB;AACpD,QAAM,CAACJ,MAAD,EAASC,SAAT,IAAsBN,KAAK,CAACU,QAAN,CAAeF,IAAf,CAA5B;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAYV,SAAS,EAA3B;AAEAD,EAAAA,KAAK,CAACY,SAAN,CAAgB,MAAM;AACpB,QAAIP,MAAM,KAAKQ,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAf,EAA+C;AAC7CD,MAAAA,YAAY,CAACE,OAAb,CAAqB,QAArB,EAA+BV,MAA/B;AACD;AACF,GAJD,EAIG,CAACA,MAAD,CAJH;AAMAL,EAAAA,KAAK,CAACY,SAAN,CAAgB,MAAM;AACpB,QACE,OAAOD,KAAK,CAACH,IAAb,KAAsB,QAAtB,IACAN,QAAQ,CAACS,KAAK,CAACH,IAAP,CADR,IAEAH,MAAM,KAAKM,KAAK,CAACH,IAHnB,EAIE;AACAF,MAAAA,SAAS,CAACK,KAAK,CAACH,IAAP,CAAT;AACD;AACF,GARD,EAQG,CAACG,KAAK,CAACH,IAAP,EAAaH,MAAb,CARH;AAUA,sBACE,QAAC,aAAD,CAAe,QAAf;AAAwB,IAAA,KAAK,EAAE;AAAEA,MAAAA,MAAF;AAAUC,MAAAA;AAAV,KAA/B;AAAA,cACGG;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CAzBM","sourcesContent":["import React from \"react\";\nimport { useRouter } from \"next/router\";\nimport { isLocale } from \"../config/i18n/types\";\n\nexport const LocaleContext =\n  React.createContext >\n  {\n    locale: \"en\",\n    setLocale: () => null,\n  };\n\nexport const LocaleProvider = ({ lang, children }) => {\n  const [locale, setLocale] = React.useState(lang);\n  const { query } = useRouter();\n\n  React.useEffect(() => {\n    if (locale !== localStorage.getItem(\"locale\")) {\n      localStorage.setItem(\"locale\", locale);\n    }\n  }, [locale]);\n\n  React.useEffect(() => {\n    if (\n      typeof query.lang === \"string\" &&\n      isLocale(query.lang) &&\n      locale !== query.lang\n    ) {\n      setLocale(query.lang);\n    }\n  }, [query.lang, locale]);\n\n  return (\n    <LocaleContext.Provider value={{ locale, setLocale }}>\n      {children}\n    </LocaleContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}